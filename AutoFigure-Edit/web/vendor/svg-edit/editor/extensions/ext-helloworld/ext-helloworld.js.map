{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;AAeA,MAAM,OAAO;AAEb,MAAM,2BAA2B,eAAgB,WAAW;AAC1D,MAAI;AACJ,QAAM,OAAO,UAAU,UAAU,KAAK,MAAM;AAC5C,MAAI;AACF,wBAAoB,MAAM,kCAAO,YAAY,IAAI,KAAK;AAAA,EACxD,SAAS,QAAQ;AACf,YAAQ,KAAK,wBAAwB,IAAI,SAAS,IAAI,eAAe;AACrE,wBAAoB,MAAK,oBAAC,OAAO,gBAAgB;AAAA,EACnD;AACA,YAAU,QAAQ,kBAAkB,MAAM,MAAM,kBAAkB,OAAO;AAC3E;AAEA,sBAAe;AAAA,EACb;AAAA,EACA,MAAM,KAAM,EAAE,iBAAiB;AAC7B,UAAM,YAAY;AAClB,UAAM,yBAAyB,SAAS;AACxC,UAAM,EAAE,UAAS,IAAK;AACtB,UAAM,EAAE,KAAK,WAAW;AACxB,WAAO;AAAA,MACL,MAAM,UAAU,QAAQ,EAAE,GAAG,IAAI,OAAO;AAAA,MACxC,WAAY;AAEV,cAAM,iBAAiB,SAAS,cAAc,UAAU;AACxD,cAAM,QAAQ,GAAG,IAAI;AACrB,uBAAe,YAAY;AAAA,6CACU,KAAK;AAAA;AAE1C,YAAI,YAAY,EAAE,OAAO,eAAe,QAAQ,UAAU,IAAI,CAAC;AAC/D,eAAO,IAAI,aAAa,GAAG,MAAM;AAC/B,oBAAU,QAAQ,aAAa;AAAA,QACjC,CAAC;AAAA,MACH;AAAA;AAAA;AAAA,MAGA,YAAa;AAEX,YAAI,UAAU,QAAO,MAAO,eAAe;AAGzC,iBAAO,EAAE,SAAS,KAAI;AAAA,QACxB;AACA,eAAO;AAAA,MACT;AAAA;AAAA;AAAA,MAIA,QAAS,MAAM;AAEb,YAAI,UAAU,QAAO,MAAO,eAAe;AACzC,gBAAM,OAAO,UAAU,QAAO;AAG9B,gBAAM,IAAI,KAAK,UAAU;AACzB,gBAAM,IAAI,KAAK,UAAU;AAGzB,gBAAM,OAAO,UAAU,QAAQ,EAAE,GAAG,IAAI,SAAS,EAAE,GAAG,EAAC,CAAE;AAEzD,gBAAM,IAAI;AAAA,QACZ;AAAA,MACF;AAAA,IACN;AAAA,EACE;AACF","names":[],"ignoreList":[],"sources":["../../../../src/editor/extensions/ext-helloworld/ext-helloworld.js"],"sourcesContent":["/**\n * @file ext-helloworld.js\n *\n * @license MIT\n *\n * @copyright 2010 Alexis Deveria\n *\n */\n\n/**\n* This is a very basic SVG-Edit extension. It adds a \"Hello World\" button in\n*  the left (\"mode\") panel. Clicking on the button, and then the canvas\n*  will show the user the point on the canvas that was clicked on.\n*/\n\nconst name = 'helloworld'\n\nconst loadExtensionTranslation = async function (svgEditor) {\n  let translationModule\n  const lang = svgEditor.configObj.pref('lang')\n  try {\n    translationModule = await import(`./locale/${lang}.js`)\n  } catch (_error) {\n    console.warn(`Missing translation (${lang}) for ${name} - using 'en'`)\n    translationModule = await import('./locale/en.js')\n  }\n  svgEditor.i18next.addResourceBundle(lang, name, translationModule.default)\n}\n\nexport default {\n  name,\n  async init ({ _importLocale }) {\n    const svgEditor = this\n    await loadExtensionTranslation(svgEditor)\n    const { svgCanvas } = svgEditor\n    const { $id, $click } = svgCanvas\n    return {\n      name: svgEditor.i18next.t(`${name}:name`),\n      callback () {\n        // Add the button and its handler(s)\n        const buttonTemplate = document.createElement('template')\n        const title = `${name}:buttons.0.title`\n        buttonTemplate.innerHTML = `\n        <se-button id=\"hello_world\" title=\"${title}\" src=\"hello_world.svg\"></se-button>\n        `\n        $id('tools_left').append(buttonTemplate.content.cloneNode(true))\n        $click($id('hello_world'), () => {\n          svgCanvas.setMode('hello_world')\n        })\n      },\n      // This is triggered when the main mouse button is pressed down\n      // on the editor canvas (not the tool panels)\n      mouseDown () {\n        // Check the mode on mousedown\n        if (svgCanvas.getMode() === 'hello_world') {\n          // The returned object must include \"started\" with\n          // a value of true in order for mouseUp to be triggered\n          return { started: true }\n        }\n        return undefined\n      },\n\n      // This is triggered from anywhere, but \"started\" must have been set\n      // to true (see above). Note that \"opts\" is an object with event info\n      mouseUp (opts) {\n        // Check the mode on mouseup\n        if (svgCanvas.getMode() === 'hello_world') {\n          const zoom = svgCanvas.getZoom()\n\n          // Get the actual coordinate by dividing by the zoom value\n          const x = opts.mouse_x / zoom\n          const y = opts.mouse_y / zoom\n\n          // We do our own formatting\n          const text = svgEditor.i18next.t(`${name}:text`, { x, y })\n          // Show the text using the custom alert function\n          alert(text)\n        }\n      }\n    }\n  }\n}\n"],"file":"ext-helloworld.js"}